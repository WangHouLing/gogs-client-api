# 仓库：

### 1.搜索仓库

```
GET /api/v1/repos/search
```

参数：

| Name | Type | Desc |
| :--- | :--- | :--- |
| q | string | \(必填\)仓库名称关键字 |
| uid | int | 指定用户ID去搜索某个人的仓库，默认是\`0\`，表示搜索所有仓库 |
| limit | int | 限制搜索的结果条数，默认是\`10\` |

例子：

```
curl http://localhost:3000/api/v1/repos/search?q=g&uid=0&limit=5
```

响应：

```
Status: 200 OK
Content-Type: application/json
```

```
{
    "data": [
        {
            "id": 2,
            "owner": null,
            "name": "",
            "full_name": "HIP/gogs",
            "description": "",
            "private": false,
            "fork": false,
            "html_url": "",
            "ssh_url": "",
            "clone_url": "",
            "website": "",
            "stars_count": 0,
            "forks_count": 0,
            "watchers_count": 0,
            "open_issues_count": 0,
            "default_branch": "",
            "created_at": "0001-01-01T00:00:00Z",
            "updated_at": "0001-01-01T00:00:00Z"
        },
        {
            "id": 4,
            "owner": null,
            "name": "",
            "full_name": "HIP/go-cas",
            "description": "",
            "private": false,
            "fork": false,
            "html_url": "",
            "ssh_url": "",
            "clone_url": "",
            "website": "",
            "stars_count": 0,
            "forks_count": 0,
            "watchers_count": 0,
            "open_issues_count": 0,
            "default_branch": "",
            "created_at": "0001-01-01T00:00:00Z",
            "updated_at": "0001-01-01T00:00:00Z"
        }
    ],
    "ok": true
}
```

> owner 为null 问题！

### 2.查询当前用户的仓库

> 查询当前用户可以访问的仓库列表，这包括是仓库的所有者，或者是合作者，或者是以团队成员身份访问的。

```
GET /api/v1/user/repos
```

响应：

```
Status: 200 OK
Content-Type: application/json
```

```
[
    {
        "id": 3,
        "owner": {
            "id": 1,
            "login": "10111",
            "full_name": "",
            "email": "abc@hand-china.com",
            "avatar_url": "https://secure.gravatar.com/avatar/66d1616f2a957bc6e6686658bc3a5e2f",
            "username": "10111"
        },
        "name": "Hello-World",
        "full_name": "10111/Hello-World",
        "description": "This is your first repository",
        "private": false,
        "fork": false,
        "html_url": "http://localhost:3000/10111/Hello-World",
        "ssh_url": "pakchoi@localhost:10111/Hello-World.git",
        "clone_url": "http://localhost:3000/10111/Hello-World.git",
        "website": "",
        "stars_count": 0,
        "forks_count": 0,
        "watchers_count": 1,
        "open_issues_count": 0,
        "default_branch": "master",
        "created_at": "2017-02-16T15:06:19+08:00",
        "updated_at": "2017-02-16T15:06:19+08:00",
        "permissions": {
            "admin": true,
            "push": true,
            "pull": true
        }
    },
    {
        "id": 1,
        "owner": {
            "id": 1,
            "login": "10111",
            "full_name": "",
            "email": "abc@hand-china.com",
            "avatar_url": "https://secure.gravatar.com/avatar/66d1616f2a957bc6e6686658bc3a5e2f",
            "username": "10111"
        },
        "name": "test1",
        "full_name": "10111/test1",
        "description": "测试1",
        "private": false,
        "fork": false,
        "html_url": "http://localhost:3000/10111/test1",
        "ssh_url": "pakchoi@localhost:10111/test1.git",
        "clone_url": "http://localhost:3000/10111/test1.git",
        "website": "",
        "stars_count": 0,
        "forks_count": 0,
        "watchers_count": 1,
        "open_issues_count": 0,
        "default_branch": "master",
        "created_at": "2017-02-16T09:29:49+08:00",
        "updated_at": "2017-02-16T09:29:49+08:00",
        "permissions": {
            "admin": true,
            "push": true,
            "pull": true
        }
    },
    {
        "id": 2,
        "owner": {
            "id": 2,
            "login": "HIP",
            "full_name": "",
            "email": "",
            "avatar_url": "http://localhost:3000/avatars/2",
            "username": "HIP"
        },
        "name": "gogs",
        "full_name": "HIP/gogs",
        "description": "gogs代码",
        "private": false,
        "fork": false,
        "html_url": "http://localhost:3000/HIP/gogs",
        "ssh_url": "pakchoi@localhost:HIP/gogs.git",
        "clone_url": "http://localhost:3000/HIP/gogs.git",
        "website": "",
        "stars_count": 0,
        "forks_count": 0,
        "watchers_count": 2,
        "open_issues_count": 0,
        "default_branch": "master",
        "created_at": "2017-02-16T10:49:01+08:00",
        "updated_at": "2017-02-16T10:49:01+08:00",
        "permissions": {
            "admin": true,
            "push": true,
            "pull": true
        }
    },
    {
        "id": 4,
        "owner": {
            "id": 2,
            "login": "HIP",
            "full_name": "",
            "email": "",
            "avatar_url": "http://localhost:3000/avatars/2",
            "username": "HIP"
        },
        "name": "go-cas",
        "full_name": "HIP/go-cas",
        "description": "",
        "private": false,
        "fork": false,
        "html_url": "http://localhost:3000/HIP/go-cas",
        "ssh_url": "pakchoi@localhost:HIP/go-cas.git",
        "clone_url": "http://localhost:3000/HIP/go-cas.git",
        "website": "",
        "stars_count": 0,
        "forks_count": 0,
        "watchers_count": 2,
        "open_issues_count": 1,
        "default_branch": "master",
        "created_at": "2017-02-16T15:44:39+08:00",
        "updated_at": "2017-02-16T19:29:39+08:00",
        "permissions": {
            "admin": true,
            "push": true,
            "pull": true
        }
    }
]
```

3

